{% extends "base.html" %}
{% block content %}

<!-- ===== Navbar (same as dashboard) ===== -->
<style>
  nav {
    background: linear-gradient(to right, #ffffff, #f8fafc) !important;
    box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
  }

  nav .nav-container a {
    color: #1e293b !important;
    font-weight: 600;
  }

  nav .nav-container a:hover {
    color: #2563eb !important;
  }

  nav .brand {
    background: linear-gradient(to right, #2563eb, #06b6d4);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
</style>

<!-- ===== Background Video ===== -->
<video autoplay muted loop playsinline id="bg-video"
  class="fixed top-0 left-0 w-full h-full object-cover z-0 opacity-55">
  <source src="{{ url_for('static', filename='videos/skilllink_bg.mp4') }}" type="video/mp4">
</video>

<!-- ===== Chat Container ===== -->
<div class="relative z-10 min-h-screen px-6 py-24 flex flex-col items-center">

  <!-- Header -->
  <div class="text-center mb-12">
    <h2 class="text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 via-cyan-400 to-blue-500">
      ðŸ’¬ Your Chats
    </h2>
    <p class="text-gray-100 mt-2">Connect and communicate with your workers or clients.</p>
  </div>

  <!-- Chats Section -->
  <div class="w-full max-w-4xl bg-white/95 p-8 rounded-2xl shadow-xl border border-gray-200">

    {% if partners %}
      <ul class="space-y-4">
        {% for p in partners %}
          <li class="p-5 rounded-xl bg-gray-50 border border-gray-200 hover:bg-gray-100 transition duration-300 flex justify-between items-center shadow-md">
            <div>
              <h3 class="text-lg font-semibold text-indigo-700">{{ p.name }}</h3>
              <p class="text-sm text-gray-600 capitalize">{{ p.role }}</p>
            </div>

            <a href="{{ url_for('chat', user_id=p.id) }}"
               class="px-5 py-2 rounded-lg text-white font-semibold bg-gradient-to-r from-indigo-500 to-cyan-400 hover:opacity-90 transition">
              Open Chat â†’
            </a>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="text-gray-200 text-center text-lg">No chats yet. Start a conversation from a profile or job page.</p>
    {% endif %}
  </div>
</div>

<!-- ===== GSAP Animation ===== -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  gsap.from(".w-full li", { 
    duration: 1, 
    y: 40, 
    opacity: 0, 
    ease: "power3.out", 
    stagger: 0.15 
  });
});
</script>

{% endblock %}
